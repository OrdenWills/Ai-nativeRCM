{"ast":null,"code":"import _objectSpread from\"/home/adol/vscode/Ai-nativeRCM/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useTranslation}from'react-i18next';import{apiEndpoints}from'../services/api';import{DocumentTextIcon,PlusIcon,SparklesIcon,CheckCircleIcon,ExclamationTriangleIcon,ClockIcon,EyeIcon,PencilIcon,TrashIcon,BookmarkIcon,LightBulbIcon,ArrowLeftIcon,XMarkIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClinicalDocs=()=>{var _templates$find2;const{t}=useTranslation();const[activeTab,setActiveTab]=useState('create');const[templates,setTemplates]=useState([]);const[selectedTemplate,setSelectedTemplate]=useState(null);const[documents,setDocuments]=useState([]);const[currentDocument,setCurrentDocument]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[aiSuggestions,setAiSuggestions]=useState({});const[showAiPanel,setShowAiPanel]=useState(false);const[validationResult,setValidationResult]=useState(null);const[viewingDocument,setViewingDocument]=useState(null);const[editingDocument,setEditingDocument]=useState(null);// Form state\nconst[documentData,setDocumentData]=useState({patient_id:'',patient_name:'',provider:'',template_id:'',content:{},status:'draft'});useEffect(()=>{fetchTemplates();if(activeTab==='manage'){fetchDocuments();}},[activeTab]);const fetchTemplates=async()=>{setLoading(true);try{// Mock templates data\nconst mockTemplates=[{id:'progress_note',name:'Progress Note',category:'general',sections:[{id:'subjective',name:'Subjective',required:true,ai_assistance:true},{id:'objective',name:'Objective',required:true,ai_assistance:true},{id:'assessment',name:'Assessment',required:true,ai_assistance:true},{id:'plan',name:'Plan',required:true,ai_assistance:true}]},{id:'discharge_summary',name:'Discharge Summary',category:'inpatient',sections:[{id:'admission_diagnosis',name:'Admission Diagnosis',required:true,ai_assistance:true},{id:'discharge_diagnosis',name:'Discharge Diagnosis',required:true,ai_assistance:true},{id:'hospital_course',name:'Hospital Course',required:true,ai_assistance:true},{id:'discharge_instructions',name:'Discharge Instructions',required:true,ai_assistance:true},{id:'medications',name:'Medications',required:true,ai_assistance:false},{id:'follow_up',name:'Follow-up',required:true,ai_assistance:true}]},{id:'consultation_note',name:'Consultation Note',category:'specialty',sections:[{id:'reason_for_consultation',name:'Reason for Consultation',required:true,ai_assistance:false},{id:'history_present_illness',name:'History of Present Illness',required:true,ai_assistance:true},{id:'review_of_systems',name:'Review of Systems',required:true,ai_assistance:true},{id:'physical_examination',name:'Physical Examination',required:true,ai_assistance:true},{id:'impression',name:'Impression',required:true,ai_assistance:true},{id:'recommendations',name:'Recommendations',required:true,ai_assistance:true}]}];setTemplates(mockTemplates);}catch(error){setError('Failed to load templates');}finally{setLoading(false);}};const fetchDocuments=async()=>{setLoading(true);try{// Mock documents data\nconst mockDocuments=[{id:'DOC001',template_id:'progress_note',patient_id:'P001',patient_name:'Ahmed Al-Rashid',provider:'Dr. Sarah Ahmed',date_created:'2024-01-15',last_modified:'2024-01-15',status:'completed',ai_confidence:0.92,compliance_score:0.95},{id:'DOC002',template_id:'discharge_summary',patient_id:'P002',patient_name:'Fatima Al-Zahra',provider:'Dr. Omar Hassan',date_created:'2024-01-18',last_modified:'2024-01-19',status:'draft',ai_confidence:0.88,compliance_score:0.91}];setDocuments(mockDocuments);}catch(error){setError('Failed to load documents');}finally{setLoading(false);}};const handleTemplateSelect=template=>{setSelectedTemplate(template);setDocumentData(_objectSpread(_objectSpread({},documentData),{},{template_id:template.id,content:{}}));// Initialize content sections\nconst initialContent={};template.sections.forEach(section=>{initialContent[section.id]='';});setDocumentData(prev=>_objectSpread(_objectSpread({},prev),{},{content:initialContent}));};const handleContentChange=(sectionId,value)=>{setDocumentData(prev=>_objectSpread(_objectSpread({},prev),{},{content:_objectSpread(_objectSpread({},prev.content),{},{[sectionId]:value})}));};const requestAiAssistance=async sectionId=>{setLoading(true);try{// Mock AI suggestions\nconst mockSuggestions={subjective:[\"Patient reports chest pain, 7/10 severity, substernal, radiating to left arm\",\"Chief complaint: Shortness of breath for 2 days, worse with exertion\",\"Patient presents with headache, throbbing, bilateral, 6/10 severity\"],objective:[\"Vital signs: BP 120/80, HR 72, RR 16, Temp 98.6°F, O2 sat 98% on RA\",\"General appearance: Alert, oriented, no acute distress\",\"Cardiovascular: Regular rate and rhythm, no murmurs\"],assessment:[\"Chest pain, rule out acute coronary syndrome vs musculoskeletal\",\"Hypertension, well controlled on current medications\",\"Type 2 diabetes mellitus, HbA1c goal <7%\"],plan:[\"Continue current medications, follow up in 3 months\",\"Order EKG, chest X-ray, basic metabolic panel\",\"Patient education provided regarding diet and exercise\"]};setAiSuggestions(_objectSpread(_objectSpread({},aiSuggestions),{},{[sectionId]:mockSuggestions[sectionId]||[\"AI suggestion not available\"]}));setShowAiPanel(true);}catch(error){setError('AI assistance failed');}finally{setLoading(false);}};const applySuggestion=(sectionId,suggestion)=>{handleContentChange(sectionId,suggestion);setShowAiPanel(false);};const validateDocument=async()=>{setLoading(true);try{// Mock validation\nconst mockValidation={ai_confidence:0.92,compliance_score:0.95,errors:[],warnings:['Section \"objective\" may need more detail'],suggestions:['Consider adding vital signs to objective section'],completeness:0.9};setValidationResult(mockValidation);}catch(error){setError('Validation failed');}finally{setLoading(false);}};const saveDocument=async()=>{setLoading(true);try{// Mock save\nconst newDoc=_objectSpread(_objectSpread({id:\"DOC\".concat(Math.random().toString(36).substr(2,6).toUpperCase())},documentData),{},{date_created:new Date().toISOString().split('T')[0],last_modified:new Date().toISOString().split('T')[0],ai_confidence:0.92,compliance_score:0.95});setDocuments(prev=>[newDoc,...prev]);setActiveTab('manage');// Reset form\nsetDocumentData({patient_id:'',patient_name:'',provider:'',template_id:'',content:{},status:'draft'});setSelectedTemplate(null);}catch(error){setError('Failed to save document');}finally{setLoading(false);}};const viewDocument=doc=>{setViewingDocument(doc);};const editDocument=doc=>{setEditingDocument(doc);setDocumentData({patient_id:doc.patient_id,patient_name:doc.patient_name,provider:doc.provider,template_id:doc.template_id,content:doc.content||{},status:doc.status});const template=templates.find(t=>t.id===doc.template_id);setSelectedTemplate(template);setActiveTab('create');};const updateDocument=async()=>{setLoading(true);try{// Mock update\nconst updatedDoc=_objectSpread(_objectSpread(_objectSpread({},editingDocument),documentData),{},{last_modified:new Date().toISOString().split('T')[0],ai_confidence:0.92,compliance_score:0.95});setDocuments(prev=>prev.map(doc=>doc.id===editingDocument.id?updatedDoc:doc));setActiveTab('manage');setEditingDocument(null);// Reset form\nsetDocumentData({patient_id:'',patient_name:'',provider:'',template_id:'',content:{},status:'draft'});setSelectedTemplate(null);}catch(error){setError('Failed to update document');}finally{setLoading(false);}};const getStatusIcon=status=>{switch(status){case'completed':return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-5 h-5 text-green-500\"});case'draft':return/*#__PURE__*/_jsx(ClockIcon,{className:\"w-5 h-5 text-yellow-500\"});case'review':return/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-5 h-5 text-orange-500\"});default:return/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-5 h-5 text-gray-500\"});}};const getStatusColor=status=>{switch(status){case'completed':return'text-green-700 bg-green-50';case'draft':return'text-yellow-700 bg-yellow-50';case'review':return'text-orange-700 bg-orange-50';default:return'text-gray-700 bg-gray-50';}};const tabs=[{id:'create',name:'Create Document',icon:PlusIcon},{id:'manage',name:'Manage Documents',icon:DocumentTextIcon}];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"flex items-center py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-primary-500 text-primary-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(tab.icon,{className:\"w-5 h-5 mr-2\"}),tab.name]},tab.id))})}),activeTab==='create'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[!selectedTemplate&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 mb-4\",children:\"Select Documentation Template\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleTemplateSelect(template),className:\"border border-gray-200 rounded-lg p-4 hover:border-primary-300 hover:shadow-md cursor-pointer transition-all\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-6 h-6 text-primary-500 mr-2\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:template.name})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:[\"Category: \",template.category]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[template.sections.length,\" sections\"]})]},template.id))})]})}),selectedTemplate&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:selectedTemplate.name}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedTemplate(null),className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"w-4 h-4 mr-2\"}),\"Change Template\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Patient ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:documentData.patient_id,onChange:e=>setDocumentData(_objectSpread(_objectSpread({},documentData),{},{patient_id:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\",placeholder:\"P001\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Patient Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:documentData.patient_name,onChange:e=>setDocumentData(_objectSpread(_objectSpread({},documentData),{},{patient_name:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Ahmed Al-Rashid\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Provider\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:documentData.provider,onChange:e=>setDocumentData(_objectSpread(_objectSpread({},documentData),{},{provider:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Dr. Sarah Ahmed\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:selectedTemplate.sections.map(section=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:[section.name,section.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),section.ai_assistance&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>requestAiAssistance(section.id),className:\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-primary-700 bg-primary-100 hover:bg-primary-200\",children:[/*#__PURE__*/_jsx(SparklesIcon,{className:\"w-3 h-3 mr-1\"}),\"AI Assist\"]})]}),/*#__PURE__*/_jsx(\"textarea\",{value:documentData.content[section.id]||'',onChange:e=>handleContentChange(section.id,e.target.value),rows:4,className:\"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter \".concat(section.name.toLowerCase(),\"...\")})]},section.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:validateDocument,className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-4 h-4 mr-1\"}),\"Validate\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDocumentData(_objectSpread(_objectSpread({},documentData),{},{status:'draft'})),className:\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:\"Save as Draft\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editingDocument?updateDocument:saveDocument,disabled:loading,className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\",children:loading?'Saving...':editingDocument?'Update Document':'Save Document'})]})]}),validationResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-800 mb-2\",children:\"Validation Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-700\",children:\"AI Confidence: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[(validationResult.ai_confidence*100).toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-700\",children:\"Compliance Score: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[(validationResult.compliance_score*100).toFixed(0),\"%\"]})]})]}),validationResult.warnings.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-orange-700\",children:\"Warnings:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside text-sm text-orange-600\",children:validationResult.warnings.map((warning,index)=>/*#__PURE__*/_jsx(\"li\",{children:warning},index))})]}),validationResult.suggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-700\",children:\"Suggestions:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside text-sm text-blue-600\",children:validationResult.suggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"li\",{children:suggestion},index))})]})]})]})})]}),activeTab==='manage'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 mb-4\",children:\"Clinical Documents\"}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-8 h-8 animate-spin mx-auto text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-500\",children:\"Loading documents...\"})]}):documents.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-12 h-12 mx-auto text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-500\",children:\"No documents found\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:documents.map(doc=>{var _templates$find;return/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:doc.id}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getStatusColor(doc.status)),children:[getStatusIcon(doc.status),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 capitalize\",children:doc.status})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Patient:\"}),\" \",doc.patient_name,\" (\",doc.patient_id,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Provider:\"}),\" \",doc.provider]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Template:\"}),\" \",((_templates$find=templates.find(t=>t.id===doc.template_id))===null||_templates$find===void 0?void 0:_templates$find.name)||doc.template_id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Created:\"}),\" \",doc.date_created,\" | \",/*#__PURE__*/_jsx(\"strong\",{children:\"Modified:\"}),\" \",doc.last_modified]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"AI Confidence: \",(doc.ai_confidence*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Compliance: \",(doc.compliance_score*100).toFixed(0),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>viewDocument(doc),className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"w-4 h-4 mr-1\"}),\"View\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>editDocument(doc),className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"w-4 h-4 mr-1\"}),\"Edit\"]})]})]})},doc.id);})})]})}),viewingDocument&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-10 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-md bg-white max-h-screen overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Document Details - \",viewingDocument.id]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewingDocument(null),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Patient\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:viewingDocument.patient_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Provider\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:viewingDocument.provider})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Template\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:((_templates$find2=templates.find(t=>t.id===viewingDocument.template_id))===null||_templates$find2===void 0?void 0:_templates$find2.name)||viewingDocument.template_id})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getStatusColor(viewingDocument.status)),children:[getStatusIcon(viewingDocument.status),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 capitalize\",children:viewingDocument.status})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:viewingDocument.content&&Object.entries(viewingDocument.content).map(_ref=>{let[sectionId,content]=_ref;const template=templates.find(t=>t.id===viewingDocument.template_id);const section=template===null||template===void 0?void 0:template.sections.find(s=>s.id===sectionId);return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-2\",children:(section===null||section===void 0?void 0:section.name)||sectionId}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-sm max-w-none\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-wrap\",children:content||'No content provided'})})]},sectionId);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-800 mb-2\",children:\"Document Quality Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-700\",children:\"AI Confidence: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[(viewingDocument.ai_confidence*100).toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-700\",children:\"Compliance Score: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[(viewingDocument.compliance_score*100).toFixed(0),\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewingDocument(null),className:\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:\"Close\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setViewingDocument(null);editDocument(viewingDocument);},className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"w-4 h-4 mr-2\"}),\"Edit Document\"]})]})]})})}),showAiPanel&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(LightBulbIcon,{className:\"w-5 h-5 mr-2 text-yellow-500\"}),\"AI Suggestions\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAiPanel(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:Object.entries(aiSuggestions).map(_ref2=>{let[sectionId,suggestions]=_ref2;return/*#__PURE__*/_jsx(\"div\",{children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>applySuggestion(sectionId,suggestion),className:\"p-3 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 cursor-pointer transition-all\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",children:suggestion})},index))},sectionId);})})]})})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md\",children:error})]});};export default ClinicalDocs;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","apiEndpoints","DocumentTextIcon","PlusIcon","SparklesIcon","CheckCircleIcon","ExclamationTriangleIcon","ClockIcon","EyeIcon","PencilIcon","TrashIcon","BookmarkIcon","LightBulbIcon","ArrowLeftIcon","XMarkIcon","jsx","_jsx","jsxs","_jsxs","ClinicalDocs","_templates$find2","t","activeTab","setActiveTab","templates","setTemplates","selectedTemplate","setSelectedTemplate","documents","setDocuments","currentDocument","setCurrentDocument","loading","setLoading","error","setError","aiSuggestions","setAiSuggestions","showAiPanel","setShowAiPanel","validationResult","setValidationResult","viewingDocument","setViewingDocument","editingDocument","setEditingDocument","documentData","setDocumentData","patient_id","patient_name","provider","template_id","content","status","fetchTemplates","fetchDocuments","mockTemplates","id","name","category","sections","required","ai_assistance","mockDocuments","date_created","last_modified","ai_confidence","compliance_score","handleTemplateSelect","template","_objectSpread","initialContent","forEach","section","prev","handleContentChange","sectionId","value","requestAiAssistance","mockSuggestions","subjective","objective","assessment","plan","applySuggestion","suggestion","validateDocument","mockValidation","errors","warnings","suggestions","completeness","saveDocument","newDoc","concat","Math","random","toString","substr","toUpperCase","Date","toISOString","split","viewDocument","doc","editDocument","find","updateDocument","updatedDoc","map","getStatusIcon","className","getStatusColor","tabs","icon","children","tab","onClick","length","type","onChange","e","target","placeholder","rows","toLowerCase","disabled","toFixed","warning","index","_templates$find","Object","entries","_ref","s","_ref2"],"sources":["/home/adol/vscode/Ai-nativeRCM/frontend/src/pages/ClinicalDocs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { apiEndpoints } from '../services/api';\nimport {\n  DocumentTextIcon,\n  PlusIcon,\n  SparklesIcon,\n  CheckCircleIcon,\n  ExclamationTriangleIcon,\n  ClockIcon,\n  EyeIcon,\n  PencilIcon,\n  TrashIcon,\n  BookmarkIcon,\n  LightBulbIcon,\n  ArrowLeftIcon,\n  XMarkIcon,\n} from '@heroicons/react/24/outline';\n\nconst ClinicalDocs = () => {\n  const { t } = useTranslation();\n  const [activeTab, setActiveTab] = useState('create');\n  const [templates, setTemplates] = useState([]);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [documents, setDocuments] = useState([]);\n  const [currentDocument, setCurrentDocument] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [aiSuggestions, setAiSuggestions] = useState({});\n  const [showAiPanel, setShowAiPanel] = useState(false);\n  const [validationResult, setValidationResult] = useState(null);\n  const [viewingDocument, setViewingDocument] = useState(null);\n  const [editingDocument, setEditingDocument] = useState(null);\n\n  // Form state\n  const [documentData, setDocumentData] = useState({\n    patient_id: '',\n    patient_name: '',\n    provider: '',\n    template_id: '',\n    content: {},\n    status: 'draft'\n  });\n\n  useEffect(() => {\n    fetchTemplates();\n    if (activeTab === 'manage') {\n      fetchDocuments();\n    }\n  }, [activeTab]);\n\n  const fetchTemplates = async () => {\n    setLoading(true);\n    try {\n      // Mock templates data\n      const mockTemplates = [\n        {\n          id: 'progress_note',\n          name: 'Progress Note',\n          category: 'general',\n          sections: [\n            { id: 'subjective', name: 'Subjective', required: true, ai_assistance: true },\n            { id: 'objective', name: 'Objective', required: true, ai_assistance: true },\n            { id: 'assessment', name: 'Assessment', required: true, ai_assistance: true },\n            { id: 'plan', name: 'Plan', required: true, ai_assistance: true }\n          ]\n        },\n        {\n          id: 'discharge_summary',\n          name: 'Discharge Summary',\n          category: 'inpatient',\n          sections: [\n            { id: 'admission_diagnosis', name: 'Admission Diagnosis', required: true, ai_assistance: true },\n            { id: 'discharge_diagnosis', name: 'Discharge Diagnosis', required: true, ai_assistance: true },\n            { id: 'hospital_course', name: 'Hospital Course', required: true, ai_assistance: true },\n            { id: 'discharge_instructions', name: 'Discharge Instructions', required: true, ai_assistance: true },\n            { id: 'medications', name: 'Medications', required: true, ai_assistance: false },\n            { id: 'follow_up', name: 'Follow-up', required: true, ai_assistance: true }\n          ]\n        },\n        {\n          id: 'consultation_note',\n          name: 'Consultation Note',\n          category: 'specialty',\n          sections: [\n            { id: 'reason_for_consultation', name: 'Reason for Consultation', required: true, ai_assistance: false },\n            { id: 'history_present_illness', name: 'History of Present Illness', required: true, ai_assistance: true },\n            { id: 'review_of_systems', name: 'Review of Systems', required: true, ai_assistance: true },\n            { id: 'physical_examination', name: 'Physical Examination', required: true, ai_assistance: true },\n            { id: 'impression', name: 'Impression', required: true, ai_assistance: true },\n            { id: 'recommendations', name: 'Recommendations', required: true, ai_assistance: true }\n          ]\n        }\n      ];\n      setTemplates(mockTemplates);\n    } catch (error) {\n      setError('Failed to load templates');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchDocuments = async () => {\n    setLoading(true);\n    try {\n      // Mock documents data\n      const mockDocuments = [\n        {\n          id: 'DOC001',\n          template_id: 'progress_note',\n          patient_id: 'P001',\n          patient_name: 'Ahmed Al-Rashid',\n          provider: 'Dr. Sarah Ahmed',\n          date_created: '2024-01-15',\n          last_modified: '2024-01-15',\n          status: 'completed',\n          ai_confidence: 0.92,\n          compliance_score: 0.95\n        },\n        {\n          id: 'DOC002',\n          template_id: 'discharge_summary',\n          patient_id: 'P002',\n          patient_name: 'Fatima Al-Zahra',\n          provider: 'Dr. Omar Hassan',\n          date_created: '2024-01-18',\n          last_modified: '2024-01-19',\n          status: 'draft',\n          ai_confidence: 0.88,\n          compliance_score: 0.91\n        }\n      ];\n      setDocuments(mockDocuments);\n    } catch (error) {\n      setError('Failed to load documents');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTemplateSelect = (template) => {\n    setSelectedTemplate(template);\n    setDocumentData({\n      ...documentData,\n      template_id: template.id,\n      content: {}\n    });\n    \n    // Initialize content sections\n    const initialContent = {};\n    template.sections.forEach(section => {\n      initialContent[section.id] = '';\n    });\n    setDocumentData(prev => ({\n      ...prev,\n      content: initialContent\n    }));\n  };\n\n  const handleContentChange = (sectionId, value) => {\n    setDocumentData(prev => ({\n      ...prev,\n      content: {\n        ...prev.content,\n        [sectionId]: value\n      }\n    }));\n  };\n\n  const requestAiAssistance = async (sectionId) => {\n    setLoading(true);\n    try {\n      // Mock AI suggestions\n      const mockSuggestions = {\n        subjective: [\n          \"Patient reports chest pain, 7/10 severity, substernal, radiating to left arm\",\n          \"Chief complaint: Shortness of breath for 2 days, worse with exertion\",\n          \"Patient presents with headache, throbbing, bilateral, 6/10 severity\"\n        ],\n        objective: [\n          \"Vital signs: BP 120/80, HR 72, RR 16, Temp 98.6°F, O2 sat 98% on RA\",\n          \"General appearance: Alert, oriented, no acute distress\",\n          \"Cardiovascular: Regular rate and rhythm, no murmurs\"\n        ],\n        assessment: [\n          \"Chest pain, rule out acute coronary syndrome vs musculoskeletal\",\n          \"Hypertension, well controlled on current medications\",\n          \"Type 2 diabetes mellitus, HbA1c goal <7%\"\n        ],\n        plan: [\n          \"Continue current medications, follow up in 3 months\",\n          \"Order EKG, chest X-ray, basic metabolic panel\",\n          \"Patient education provided regarding diet and exercise\"\n        ]\n      };\n\n      setAiSuggestions({\n        ...aiSuggestions,\n        [sectionId]: mockSuggestions[sectionId] || [\"AI suggestion not available\"]\n      });\n      setShowAiPanel(true);\n    } catch (error) {\n      setError('AI assistance failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const applySuggestion = (sectionId, suggestion) => {\n    handleContentChange(sectionId, suggestion);\n    setShowAiPanel(false);\n  };\n\n  const validateDocument = async () => {\n    setLoading(true);\n    try {\n      // Mock validation\n      const mockValidation = {\n        ai_confidence: 0.92,\n        compliance_score: 0.95,\n        errors: [],\n        warnings: ['Section \"objective\" may need more detail'],\n        suggestions: ['Consider adding vital signs to objective section'],\n        completeness: 0.9\n      };\n      setValidationResult(mockValidation);\n    } catch (error) {\n      setError('Validation failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const saveDocument = async () => {\n    setLoading(true);\n    try {\n      // Mock save\n      const newDoc = {\n        id: `DOC${Math.random().toString(36).substr(2, 6).toUpperCase()}`,\n        ...documentData,\n        date_created: new Date().toISOString().split('T')[0],\n        last_modified: new Date().toISOString().split('T')[0],\n        ai_confidence: 0.92,\n        compliance_score: 0.95\n      };\n      \n      setDocuments(prev => [newDoc, ...prev]);\n      setActiveTab('manage');\n      \n      // Reset form\n      setDocumentData({\n        patient_id: '',\n        patient_name: '',\n        provider: '',\n        template_id: '',\n        content: {},\n        status: 'draft'\n      });\n      setSelectedTemplate(null);\n    } catch (error) {\n      setError('Failed to save document');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const viewDocument = (doc) => {\n    setViewingDocument(doc);\n  };\n\n  const editDocument = (doc) => {\n    setEditingDocument(doc);\n    setDocumentData({\n      patient_id: doc.patient_id,\n      patient_name: doc.patient_name,\n      provider: doc.provider,\n      template_id: doc.template_id,\n      content: doc.content || {},\n      status: doc.status\n    });\n    const template = templates.find(t => t.id === doc.template_id);\n    setSelectedTemplate(template);\n    setActiveTab('create');\n  };\n\n  const updateDocument = async () => {\n    setLoading(true);\n    try {\n      // Mock update\n      const updatedDoc = {\n        ...editingDocument,\n        ...documentData,\n        last_modified: new Date().toISOString().split('T')[0],\n        ai_confidence: 0.92,\n        compliance_score: 0.95\n      };\n      \n      setDocuments(prev => prev.map(doc => \n        doc.id === editingDocument.id ? updatedDoc : doc\n      ));\n      setActiveTab('manage');\n      setEditingDocument(null);\n      \n      // Reset form\n      setDocumentData({\n        patient_id: '',\n        patient_name: '',\n        provider: '',\n        template_id: '',\n        content: {},\n        status: 'draft'\n      });\n      setSelectedTemplate(null);\n    } catch (error) {\n      setError('Failed to update document');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'completed':\n        return <CheckCircleIcon className=\"w-5 h-5 text-green-500\" />;\n      case 'draft':\n        return <ClockIcon className=\"w-5 h-5 text-yellow-500\" />;\n      case 'review':\n        return <ExclamationTriangleIcon className=\"w-5 h-5 text-orange-500\" />;\n      default:\n        return <DocumentTextIcon className=\"w-5 h-5 text-gray-500\" />;\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'completed':\n        return 'text-green-700 bg-green-50';\n      case 'draft':\n        return 'text-yellow-700 bg-yellow-50';\n      case 'review':\n        return 'text-orange-700 bg-orange-50';\n      default:\n        return 'text-gray-700 bg-gray-50';\n    }\n  };\n\n  const tabs = [\n    { id: 'create', name: 'Create Document', icon: PlusIcon },\n    { id: 'manage', name: 'Manage Documents', icon: DocumentTextIcon },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Tab Navigation */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === tab.id\n                  ? 'border-primary-500 text-primary-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <tab.icon className=\"w-5 h-5 mr-2\" />\n              {tab.name}\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Create Document Tab */}\n      {activeTab === 'create' && (\n        <div className=\"space-y-6\">\n          {/* Template Selection */}\n          {!selectedTemplate && (\n            <div className=\"bg-white shadow rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\n                  Select Documentation Template\n                </h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {templates.map((template) => (\n                    <div\n                      key={template.id}\n                      onClick={() => handleTemplateSelect(template)}\n                      className=\"border border-gray-200 rounded-lg p-4 hover:border-primary-300 hover:shadow-md cursor-pointer transition-all\"\n                    >\n                      <div className=\"flex items-center mb-2\">\n                        <DocumentTextIcon className=\"w-6 h-6 text-primary-500 mr-2\" />\n                        <h4 className=\"text-lg font-medium text-gray-900\">{template.name}</h4>\n                      </div>\n                      <p className=\"text-sm text-gray-600 mb-2\">Category: {template.category}</p>\n                      <p className=\"text-sm text-gray-500\">{template.sections.length} sections</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Document Creation Form */}\n          {selectedTemplate && (\n            <div className=\"bg-white shadow rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                    {selectedTemplate.name}\n                  </h3>\n                  <button\n                    onClick={() => setSelectedTemplate(null)}\n                    className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                  >\n                    <ArrowLeftIcon className=\"w-4 h-4 mr-2\" />\n                    Change Template\n                  </button>\n                </div>\n\n                {/* Patient Information */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Patient ID</label>\n                    <input\n                      type=\"text\"\n                      value={documentData.patient_id}\n                      onChange={(e) => setDocumentData({...documentData, patient_id: e.target.value})}\n                      className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                      placeholder=\"P001\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Patient Name</label>\n                    <input\n                      type=\"text\"\n                      value={documentData.patient_name}\n                      onChange={(e) => setDocumentData({...documentData, patient_name: e.target.value})}\n                      className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                      placeholder=\"Ahmed Al-Rashid\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Provider</label>\n                    <input\n                      type=\"text\"\n                      value={documentData.provider}\n                      onChange={(e) => setDocumentData({...documentData, provider: e.target.value})}\n                      className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                      placeholder=\"Dr. Sarah Ahmed\"\n                    />\n                  </div>\n                </div>\n\n                {/* Documentation Sections */}\n                <div className=\"space-y-6\">\n                  {selectedTemplate.sections.map((section) => (\n                    <div key={section.id} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <label className=\"block text-sm font-medium text-gray-700\">\n                          {section.name}\n                          {section.required && <span className=\"text-red-500 ml-1\">*</span>}\n                        </label>\n                        {section.ai_assistance && (\n                          <button\n                            onClick={() => requestAiAssistance(section.id)}\n                            className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-primary-700 bg-primary-100 hover:bg-primary-200\"\n                          >\n                            <SparklesIcon className=\"w-3 h-3 mr-1\" />\n                            AI Assist\n                          </button>\n                        )}\n                      </div>\n                      <textarea\n                        value={documentData.content[section.id] || ''}\n                        onChange={(e) => handleContentChange(section.id, e.target.value)}\n                        rows={4}\n                        className=\"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                        placeholder={`Enter ${section.name.toLowerCase()}...`}\n                      />\n                    </div>\n                  ))}\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex items-center justify-between mt-6\">\n                  <div className=\"flex space-x-3\">\n                    <button\n                      onClick={validateDocument}\n                      className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                    >\n                      <CheckCircleIcon className=\"w-4 h-4 mr-1\" />\n                      Validate\n                    </button>\n                  </div>\n                  <div className=\"flex space-x-3\">\n                    <button\n                      onClick={() => setDocumentData({...documentData, status: 'draft'})}\n                      className=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                    >\n                      Save as Draft\n                    </button>\n                    <button\n                      onClick={editingDocument ? updateDocument : saveDocument}\n                      disabled={loading}\n                      className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\n                    >\n                      {loading ? 'Saving...' : editingDocument ? 'Update Document' : 'Save Document'}\n                    </button>\n                  </div>\n                </div>\n\n                {/* Validation Results */}\n                {validationResult && (\n                  <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <h4 className=\"text-sm font-medium text-blue-800 mb-2\">Validation Results</h4>\n                    <div className=\"grid grid-cols-2 gap-4 mb-3\">\n                      <div>\n                        <span className=\"text-sm text-blue-700\">AI Confidence: </span>\n                        <span className=\"font-medium\">{(validationResult.ai_confidence * 100).toFixed(0)}%</span>\n                      </div>\n                      <div>\n                        <span className=\"text-sm text-blue-700\">Compliance Score: </span>\n                        <span className=\"font-medium\">{(validationResult.compliance_score * 100).toFixed(0)}%</span>\n                      </div>\n                    </div>\n                    {validationResult.warnings.length > 0 && (\n                      <div className=\"mb-2\">\n                        <p className=\"text-sm font-medium text-orange-700\">Warnings:</p>\n                        <ul className=\"list-disc list-inside text-sm text-orange-600\">\n                          {validationResult.warnings.map((warning, index) => (\n                            <li key={index}>{warning}</li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                    {validationResult.suggestions.length > 0 && (\n                      <div>\n                        <p className=\"text-sm font-medium text-blue-700\">Suggestions:</p>\n                        <ul className=\"list-disc list-inside text-sm text-blue-600\">\n                          {validationResult.suggestions.map((suggestion, index) => (\n                            <li key={index}>{suggestion}</li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Manage Documents Tab */}\n      {activeTab === 'manage' && (\n        <div className=\"bg-white shadow rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\n              Clinical Documents\n            </h3>\n            \n            {loading ? (\n              <div className=\"text-center py-8\">\n                <ClockIcon className=\"w-8 h-8 animate-spin mx-auto text-gray-400\" />\n                <p className=\"mt-2 text-gray-500\">Loading documents...</p>\n              </div>\n            ) : documents.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <DocumentTextIcon className=\"w-12 h-12 mx-auto text-gray-400\" />\n                <p className=\"mt-2 text-gray-500\">No documents found</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {documents.map((doc) => (\n                  <div key={doc.id} className=\"border border-gray-200 rounded-lg p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center\">\n                          <h4 className=\"text-lg font-medium text-gray-900\">{doc.id}</h4>\n                          <div className={`ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(doc.status)}`}>\n                            {getStatusIcon(doc.status)}\n                            <span className=\"ml-1 capitalize\">{doc.status}</span>\n                          </div>\n                        </div>\n                        <div className=\"mt-1 text-sm text-gray-600\">\n                          <p><strong>Patient:</strong> {doc.patient_name} ({doc.patient_id})</p>\n                          <p><strong>Provider:</strong> {doc.provider}</p>\n                          <p><strong>Template:</strong> {templates.find(t => t.id === doc.template_id)?.name || doc.template_id}</p>\n                          <p><strong>Created:</strong> {doc.date_created} | <strong>Modified:</strong> {doc.last_modified}</p>\n                        </div>\n                        <div className=\"mt-2 flex items-center space-x-4\">\n                          <div className=\"text-xs text-gray-500\">\n                            AI Confidence: {(doc.ai_confidence * 100).toFixed(0)}%\n                          </div>\n                          <div className=\"text-xs text-gray-500\">\n                            Compliance: {(doc.compliance_score * 100).toFixed(0)}%\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <button \n                          onClick={() => viewDocument(doc)}\n                          className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                        >\n                          <EyeIcon className=\"w-4 h-4 mr-1\" />\n                          View\n                        </button>\n                        <button \n                          onClick={() => editDocument(doc)}\n                          className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                        >\n                          <PencilIcon className=\"w-4 h-4 mr-1\" />\n                          Edit\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Document View Modal */}\n      {viewingDocument && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-md bg-white max-h-screen overflow-y-auto\">\n            <div className=\"mt-3\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  Document Details - {viewingDocument.id}\n                </h3>\n                <button\n                  onClick={() => setViewingDocument(null)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <XMarkIcon className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              {/* Document Info */}\n              <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-700\">Patient</p>\n                    <p className=\"text-sm text-gray-900\">{viewingDocument.patient_name}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-700\">Provider</p>\n                    <p className=\"text-sm text-gray-900\">{viewingDocument.provider}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-700\">Template</p>\n                    <p className=\"text-sm text-gray-900\">{templates.find(t => t.id === viewingDocument.template_id)?.name || viewingDocument.template_id}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-700\">Status</p>\n                    <div className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(viewingDocument.status)}`}>\n                      {getStatusIcon(viewingDocument.status)}\n                      <span className=\"ml-1 capitalize\">{viewingDocument.status}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Document Content */}\n              <div className=\"space-y-6\">\n                {viewingDocument.content && Object.entries(viewingDocument.content).map(([sectionId, content]) => {\n                  const template = templates.find(t => t.id === viewingDocument.template_id);\n                  const section = template?.sections.find(s => s.id === sectionId);\n                  \n                  return (\n                    <div key={sectionId} className=\"border border-gray-200 rounded-lg p-4\">\n                      <h4 className=\"text-md font-medium text-gray-900 mb-2\">\n                        {section?.name || sectionId}\n                      </h4>\n                      <div className=\"prose prose-sm max-w-none\">\n                        <p className=\"text-gray-700 whitespace-pre-wrap\">{content || 'No content provided'}</p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n\n              {/* Document Metrics */}\n              <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h4 className=\"text-sm font-medium text-blue-800 mb-2\">Document Quality Metrics</h4>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <span className=\"text-sm text-blue-700\">AI Confidence: </span>\n                    <span className=\"font-medium\">{(viewingDocument.ai_confidence * 100).toFixed(0)}%</span>\n                  </div>\n                  <div>\n                    <span className=\"text-sm text-blue-700\">Compliance Score: </span>\n                    <span className=\"font-medium\">{(viewingDocument.compliance_score * 100).toFixed(0)}%</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"mt-6 flex justify-end space-x-3\">\n                <button\n                  onClick={() => setViewingDocument(null)}\n                  className=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                >\n                  Close\n                </button>\n                <button\n                  onClick={() => {\n                    setViewingDocument(null);\n                    editDocument(viewingDocument);\n                  }}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700\"\n                >\n                  <PencilIcon className=\"w-4 h-4 mr-2\" />\n                  Edit Document\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* AI Suggestions Panel */}\n      {showAiPanel && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                  <LightBulbIcon className=\"w-5 h-5 mr-2 text-yellow-500\" />\n                  AI Suggestions\n                </h3>\n                <button\n                  onClick={() => setShowAiPanel(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <XMarkIcon className=\"w-5 h-5\" />\n                </button>\n              </div>\n              <div className=\"space-y-3\">\n                {Object.entries(aiSuggestions).map(([sectionId, suggestions]) => (\n                  <div key={sectionId}>\n                    {suggestions.map((suggestion, index) => (\n                      <div\n                        key={index}\n                        onClick={() => applySuggestion(sectionId, suggestion)}\n                        className=\"p-3 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 cursor-pointer transition-all\"\n                      >\n                        <p className=\"text-sm text-gray-700\">{suggestion}</p>\n                      </div>\n                    ))}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md\">\n          {error}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClinicalDocs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}